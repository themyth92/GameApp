doctype html
html
	head
		title= title
		link(rel='stylesheet', href='/vendor/bootstrap/dist/css/bootstrap.min.css')
		link(rel='stylesheet', href='/stylesheets/style.css')
		script(src = '/vendor/jquery/jquery.min.js')
		script(src = '/vendor/bootstrap/dist/js/bootstrap.min.js')
		script(src = '/vendor/angular/angular.min.js')
		script(src = '/vendor/ng-file-upload/angular-file-upload.min.js')
		script(src = '/vendor/angular-route/angular-route.min.js')
		script(src = '/vendor/angular-animate/angular-animate.min.js')
		script(src = '/vendor/angular-resource/angular-resource.min.js')
		script(src = '/vendor/requirejs/require.js' data-main = 'javascripts/main')
	body(ng-cloak)
		div.loading.AjaxLoading
		nav.navbar-custom.navbar.navbar-inverse.navbar-fixed-top(role = navigation, ng-controller =' NavBarCtrl')
			div.container
				div.navbar-header
					button.navbar-toggle(data-toggle = 'collapse', data-target = '#top-nav', type = 'button')
						span.sr-only  Toggle navigation
						span.icon-bar
						span.icon-bar
						span.icon-bar
					a.navbar-brand Our brand
				div.collapse.navbar-collapse#top-nav
					ul.nav.navbar-nav
						li
							a(href='#/home') Home
						li
							a(href='#') Gallery
					ul.nav.navbar-nav.navbar-right(ng-switch on = 'NavBarCtrl.user.isLogin')
						li.dropdown(ng-switch-when = 'false')
							a.dropdown-toggle(data-toggle = 'dropdown') Login
								b.caret
							ul.dropdown-menu.row.login-form
								div.col-lg-12
									form(role='form' ng-submit = 'NavBarCtrl.loginSubmit()')
										div.form-group
										div.form-group
											input.form-control(type='text', placeholder='Enter user name', required, ng-maxlength = '20', ng-model = 'NavBarCtrl.user.userName')
										div.form-group
											input.form-control(type='password', placeholder='Enter password', required, ng-maxlength = '20', ng-model = 'NavBarCtrl.user.password')
										button.btn.btn-primary.btn-block(type='submit') Login		
										div.form-group
						li(ng-switch-default)
							ul.nav.navbar-nav 
								li 
									a Welcome {{NavBarCtrl.user.userName}}
								li.dropdown
									a.dropdown-toggle(href = '#', data-toggle = 'dropdown') User Preference
										b.caret
									ul.dropdown-menu
										li
											a(href = '#/upload') 
												span.glyphicon.glyphicon-cloud-upload
												|&nbsp; &nbsp; Upload your file	
										li(ng-click = 'NavBarCtrl.logoutSubmit()')
											a
												span.glyphicon.glyphicon-off
												|&nbsp; &nbsp; Logout
		main.main-content.view-animate(ng-view)
		script(type = 'text/ng-template', id = 'ajaxLoading.html')
			div
				span.reloader
				span.ajax-status {{AjaxLoadingDirective.status.message}}
				span.remove-status(ng-click = 'AjaxLoadingDirective.hideMessage()')
					strong hide it